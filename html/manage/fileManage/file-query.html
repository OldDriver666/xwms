<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="../../css/global.css"/>
	<link rel="stylesheet" href="../../css/bootstrap.css"/>
	<link rel="stylesheet" href="../../css/pagination.css"/>
	<link rel="stylesheet" href="../../resource/plugin/toastr/toastr.css"/>
</head>

<body>
<div class="container-fluid">
	<div class="row">
		<div class="mod-body">
			<nav class="navbar navbar-default">
				<div class="container-fluid">
					<div id="dev-query-condition" class="navbar-form navbar-left">
						<div class="form-group">
							<input id="input-search-dev_id" type="text" class="form-control" placeholder="请输入设备ID">
						</div>
						<button id="btn-search" type="button" class="btn btn-default">
							<span class="glyphicon glyphicon-search"> </span>
						</button>
					</div>

				</div>
			</nav>
			<table id="table" class="table table-striped table-hover">
				<thead>
				<tr>
					<th>ID</th>
					<th>设备ID</th>
					<th>文件名称</th>
					<th>时长</th>
					<th>图片URL</th>
					<th>视频URL</th>
					<th>状态</th>
					<th>类型</th>
					<th>创建时间</th>
				</tr>
				</thead>
				<tbody id="pageContent"></tbody>
				<tfoot>
				<tr>
					<td colspan="12">
						<div id="pagination" class="pagination"></div>
					</td>
				</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>

<script type ="text/javascript" src="../../js/jquery.min.js"></script>
<script type ="text/javascript" src="../../js/bootstrap.min.js"></script>
<script type ="text/javascript" src="../../js/jquery.tmpl.js"></script>
<script type ="text/javascript" src="../../resource/plugin/toastr/toastr.min.js"></script>
<script type ="text/javascript" src="../../js/Util.js"></script>
<script type ="text/javascript" src="js/file-query.js"></script>
<!-- jQuery Validate -->
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/additional-methods.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.extend.js"></script>
<script type="text/x-jquery-tmpl" id="pageTmpl">
<tr>
	<td >${id}</td>
	<td>${devId}</td>
	<td>${fileName}</td>
	<td>${duration}</td>
	<td><img style="width:40px;height:40px;" src="${imageUrl}"></td>
	<td>${vedioUrl}</td>
	<td>${status}</td>
	<td>{{if type == 0}}视频{{else type == 1}}图片{{/if}}</td>
	<td>${Util.formatDateTime(created)}</td>
</tr>
</script>

<script type="text/javascript">
	var allDevTypeArray = JSON.parse(localStorage.getItem("allDevTypeArray"));
	if(allDevTypeArray != null){
        var Lens = allDevTypeArray.length;
        function typeNameQuery(type){
            for(var i=0; i< Lens; i++){
                if(allDevTypeArray[i].client_type == type){
                    return allDevTypeArray[i].client_name;
                }
            }
        }
	}
    toastr.options={
        positionClass : 'toast-center-center',
        showDuration: "300",
        hideDuration: "300",
        timeOut: "1000"
    };
</script>
</body>
</html>