<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
	<meta charset="UTF-8">
	<title></title>
	<link rel="stylesheet" href="../../css/global.css"/>
	<link rel="stylesheet" href="../../css/bootstrap.css"/>
	<link rel="stylesheet" href="../../css/pagination.css"/>
	<link rel="stylesheet" href="../../resource/plugin/toastr/toastr.css"/>
	<style>
		.checkbox-inline + .checkbox-inline, .radio-inline + .radio-inline {
			margin-top: 0;
			margin-left: 0!important;
			margin-right: 10px!important;
		}
		.form-horizontal .checkbox, .form-horizontal .checkbox-inline, .form-horizontal .radio, .form-horizontal .radio-inline {
			margin-right: 10px!important;
		}
		.tree_content{
			border: 1px solid #ddd;
			width: 370px;
			height: 300px;
			overflow-y: auto;
			padding: 10px;
		}
		.tree_content .div_inline{
			display: inline;
		}
		.tree_content .tree_node_child{
			margin-left: 40px;
		}
		.tree_content .tree_node{
			margin-bottom:10px;
		}
		.tree_content .tree_node .layui-form-checkbox{
			display: none;
		}
		.tree_content .tree_node_toggle_button{
			font-size: 18px;
			height: 18px;
			line-height: 0;
			width: 18px;
			padding: 0;
			margin: 0;
		}
	</style>
</head>

<body>
<div class="container-fluid">
	<div class="row">
		<div class="mod-body">
			<nav class="navbar navbar-default">
				<div class="container-fluid">

					<div class="navbar-form navbar-right">
						<button id="btn-add" type="button" class="btn btn-default" data-toggle="modal" data-target="#addTempl-modal">
							<span class="glyphicon glyphicon-plus"> </span><span style="margin-left: 3px">添加管理员信息</span>
						</button>
					</div>
					<div class="modal fade" id="addTempl-modal" tabindex="-1" role="dialog" aria-labelledby="addTempl-modal-label" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="addTempl-modal-label">添加/编辑管理员信息</h4>
								</div>
								<div class="modal-body">
									<form id="form-addTempl" data-action="" class="form-horizontal">
										<input type="hidden" id="input-id">
										<input type="hidden" id="input-curr-userCompany">
										<div class="form-group">
											<label for="input-userName" class="col-sm-2 control-label"><span class="necessary">*</span>用户名称</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-userName" name="userName" placeholder="输入用户名称">
											</div>
										</div>
										<div class="form-group">
											<label for="input-userPd" class="col-sm-2 control-label"><span class="necessary">*</span>密码</label>
											<div class="col-sm-10">
												<input type="password" class="form-control" id="input-userPd" name="password" placeholder="输入密码">
											</div>
										</div>
										<div class="form-group">
											<label for="input-userNick" class="col-sm-2 control-label"><span class="necessary">*</span>昵称</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-userNick" name="userNick" placeholder="输入昵称">
											</div>
										</div>
										<div class="form-group" id="input-company-wrap">
											<label for="input-userCompany" class="col-sm-2 control-label"><span class="necessary">*</span>所属公司</label>
											<div class="col-sm-10">
												<select name="userCompany" id="input-userCompany" class="form-control">
													<option value="">请选择</option>
												</select>
											</div>
										</div>
										<div class="form-group">
											<label for="input-contactName" class="col-sm-2 control-label">联系人</label>
											<div class="col-sm-10 form-txt">
												<input type="text" class="form-control" id="input-contactName" name="contactName" placeholder="输入联系人名称">
											</div>
										</div>
										<div class="form-group">
											<label for="input-phoneNo" class="col-sm-2 control-label">联系电话</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-phoneNo" name="phoneNo" placeholder="输入电话号码">
											</div>
										</div>
										<div class="form-group">
											<label for="input-email" class="col-sm-2 control-label">电子邮箱</label>
											<div class="col-sm-10">
												<input type="text" class="form-control" id="input-email" name="email" placeholder="输入电子邮箱">
											</div>
										</div>
										<div class="form-group authContent-wrap">
											<label class="col-sm-2 control-label">权限分配</label>
											<div class="col-sm-10">
												<button id="btn-addAuth" type="button" class="btn btn-default">
													<span class="glyphicon glyphicon-plus"> </span>
												</button>
												<div id="input-oldAuthList" style="width: 100%;overflow-wrap: break-word; display: none;"></div>
												<div id="input-authList" style="width: 100%;overflow-wrap: break-word; display: none;"></div>
												<div id="input-addAuthList" style="width: 100%;overflow-wrap: break-word; display: none;"></div>
												<div id="input-delAuthList" style="width: 100%;overflow-wrap: break-word; display: none;"></div>
											</div>
										</div>
									</form>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-default" data-dismiss="modal">关闭</button>
									<button id="btn-add-submit" type="button" class="btn btn-primary">提交</button>
								</div>
							</div><!-- /.modal-content -->
						</div><!-- /.modal -->
					</div>

					<div class="modal fade" id="addAuth-modal" style="z-index: 1052;">
						<div class="modal-dialog" style="width: 400px;margin: 70px auto;">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" id="auth-modal-close">&times;</button>
									<h4 class="modal-title">选择权限</h4>
								</div>
								<div class="modal-body">
									<div class="tree_content" id="authContent">

									</div>
								</div>
								<div class="modal-footer">
									<button type="button" class="btn btn-primary" id="modal-btn-ok">确定</button>
								</div>
							</div>
						</div>
					</div>

				</div>
			</nav>
			<table id="table" class="table table-striped table-hover">
				<thead>
				</thead>
				<tbody id="pageContent"></tbody>
				<tfoot>
				<tr>
					<td colspan="7">
						<div id="pagination" class="pagination"></div>
					</td>
				</tr>
				</tfoot>
			</table>
		</div>
	</div>
</div>


<script type ="text/javascript" src="../../js/jquery.min.js"></script>
<script type ="text/javascript" src="../../js/bootstrap.min.js"></script>
<script type ="text/javascript" src="../../js/jquery.tmpl.js"></script>
<script type ="text/javascript" src="../../resource/lib/jquery.md5.js"></script>
<script type ="text/javascript" src="../../resource/plugin/toastr/toastr.min.js"></script>
<script type ="text/javascript" src="../../js/Util.js"></script>
<script type ="text/javascript" src="js/sysUser-manage.js"></script>
<!-- jQuery Validate -->
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/additional-methods.min.js"></script>
<script type ="text/javascript" src="../../resource/plugin/jquery.validate-1.14.0/jquery.validate.extend.js"></script>

<script type="text/x-jquery-tmpl" id="pageAuth">
    <div class="tree_node">
		<div class="div_inline"><input type="button" value="-" class="tree_node_toggle_button"></div>
		<div class="div_inline tree_node_parent">
			<input type="checkbox" class="tree_node_parent_checkbox" checked="checked" value=${AuthDirId}> ${AuthDirName}
			<div class="tree_node_child">
			{{each(i,item) SubFunction}}
				<input type="checkbox" class="tree_node_child_checkbox" checked="checked" value=${item.SubFunId}> ${item.SubFunName}<br>
			{{/each}}
			</div>
		</div>
	</div>
</script>
<script type="text/x-jquery-tmpl" id="pageCompany">
	<option value=${CompanyId}>${CompanyName}</option>
</script>
<script type="text/javascript">
    toastr.options={
        positionClass : 'toast-center-center',
        showDuration: "300",
        hideDuration: "300",
        timeOut: "1000"
    };
</script>
</body>
</html>